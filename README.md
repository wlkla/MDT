# MDT - 鼠标桌面切换工具

## 概述

MDT 是一个为 macOS 用户设计的轻量级桌面应用程序。它允许用户将鼠标的两个侧键（X1 和 X2）映射到“切换到左侧桌面”和“切换到右侧桌面”的功能，从而极大地提升了在多个虚拟桌面间的工作效率。

应用提供了一个直观的图形界面，用户可以轻松地对调两个侧键的功能。程序会常驻在系统托盘中，方便随时显示/隐藏主窗口或退出程序。

## 主要功能

- **侧键映射**：将鼠标侧键 X1 和 X2 分别绑定到切换左右桌面的功能。
- **功能对调**：通过拖拽界面中的“左桌面”和“右桌面”标签，可以轻松交换 X1 和 X2 键对应的功能。
- **系统托盘**：程序在后台运行，并显示在系统托盘中，不干扰正常工作。
- **图形化界面**：直观地展示当前按键的功能分配。

## 技术栈

- **语言**: Python 3
- **GUI 框架**: PyQt5
- **UI 设计**: Qt Designer
- **macOS 事件监听**: PyObjC
- **打包**: PyInstaller

## 文件结构说明

```
.
├── build.sh          # 用于编译和打包应用程序的Shell脚本
├── icon.icns         # 应用程序在macOS上显示的图标
├── MDT.py            # 应用程序的主要逻辑代码
├── MDT.spec          # PyInstaller的配置文件，用于打包
├── MDT.ui            # 使用Qt Designer创建的UI布局文件
├── mouse.png         # UI中显示的鼠标图片
├── res.qrc           # Qt资源文件，用于将图片等资源嵌入程序
├── res_rc.py         # 由.qrc文件编译生成的Python资源模块
└── README.md         # 本说明文件
```

## 如何使用

### 1. 从源码运行

在运行之前，请确保已经安装了所需的依赖库。

**安装依赖:**
```bash
pip install pyqt5 pyobjc-core pyobjc-framework-quartz
```

**运行程序:**
```bash
python3 MDT.py
```
> **注意**: 首次运行时，macOS 可能会提示需要“辅助功能”权限来允许此应用控制电脑。请在“系统偏好设置” -> “安全性与隐私” -> “隐私” -> “辅助功能”中，为此应用（或您使用的终端/IDE）打上勾。

### 2. 构建应用

项目提供了一个 `build.sh` 脚本来自动化构建过程，它会使用 PyInstaller 将项目打包成一个独立的 `.app` 文件。

**安装构建工具:**
```bash
pip install pyinstaller
```

**执行构建:**
```bash
sh build.sh
```

构建成功后，你会在新生成的 `dist` 文件夹中找到 `MDT.app`。你可以将它移动到“应用程序”文件夹中使用。
